<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>vtPhysX: </title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="online.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="main.html">PhysX for Virtools</a>&nbsp;&raquo&nbsp;<a class="el" href="buildingblocks.html">Building Blocks</a>&nbsp;&raquo&nbsp;<a class="el" href="body.html">Body</a>
  </div>
</div>
<div class="contents">
<p>PBPhysicalizeEx is categorized in <a class="el" href="body.html">Body</a></p>
<h3>Description</h3>
<p>Apply to a <a href="Documentation.chm::/beobjects/1_ck3dentity.html">3DEntity</a><br/>
 Registers an object in the physic engine.<br/>
 See <a href="PBPhysicalizeExSamples.cmo">PBPhysicalizeEx.cmo</a> for example.</p>
<h3>Technical Information</h3>
<div align="center">
<img src="PBPhysicalizeEx.png" alt="PBPhysicalizeEx.png"/>
</div>
<p><span class="in">In: </span>triggers the process <br/>
</p>
<p><span class="out">Out: </span>is activated when the process is completed <br/>
</p>
<p><br/>
</p>
<p><span class="pin">Target:</span>The 3D Entity associated to the rigid body <br/>
</p>
<p><span class="pin">Flags: </span>Flags to determine common properties for the desired body.It is possible to alter certain flags after creation. See <a class="el" href="group___rigid_body.html#gaf91a82afd15268f60bedb37acba0050d">BodyFlags</a> for more information <br/>
</p>
<ul>
<li><b>Range:</b> [BodyFlags]</li>
<li><b>Default:</b>Moving,Collision,World Gravity<br/>
</li>
</ul>
<ul>
<li>Ways to alter flags :<ul>
<li>Using <a class="el" href="pbsetpar.html">PBSetPar</a></li>
<li>Using VSL : pRigidBody::updateFlags()</li>
</ul>
</li>
</ul>
<p><span class="pin">Hull Type: </span>The desired shape type. The intial shape can NOT be changed after creation. See <a class="el" href="group___rigid_body.html#gae3a18d6e3dcbff2fbc246b48960a94d9">HullType</a> for more information <br/>
</p>
<ul>
<li><b>Range:</b> [HullType]<br/>
</li>
<li><b>Default:</b>Sphere<br/>
</li>
</ul>
<p><span class="pin">Density: </span>Density of the initial shape <br/>
</p>
<ul>
<li><b>Range:</b> [0,inf]<br/>
</li>
<li><b>Default:</b>1.0f<br/>
</li>
</ul>
<ul>
<li>Ways to change the mass :<ul>
<li>Enable "Mass" in building block settings and set "New Density" or "Total Mass" non-zero.</li>
<li>Using VSL <a class="el" href="classp_rigid_body.html#a006c18f270a92193f26e9a89abf6276d" title="Recomputes a dynamic body&#39;s mass properties from its shapes.">pRigidBody::updateMassFromShapes()</a></li>
</ul>
</li>
</ul>
<p><br/>
 Is utilizing <a class="el" href="classp_rigid_body.html" title="pRigidBody is the main simulation object in the physics SDK.">pRigidBody</a> <a class="el" href="classp_world.html" title="Class to maintain physical objects.">pWorld</a> <a class="el" href="class_physic_manager.html" title="PhysicManager is a Virtools manager and acts as singleton object.">PhysicManager</a> pFactory::createRigidBody().<br/>
</p>
<h3>Optional Parameters</h3>
<p>All more specific parameters such as material or pivot offset must be enabled by the building block settings<br/>
</p>
<p>PBPhysicalizeEx all settings enabled : <br/>
</p>
<div align="center">
<img src="PBPhysicalizeExCollapsed.jpg" alt="PBPhysicalizeExCollapsed.jpg"/>
</div>
<p><span class="pin">XML Setup: </span>This parameter is not being used in this release<br/>
</p>
<hr/>
 <span class="pin">World Reference: </span>World associated with this rigid body. Leave blank to use default world (3D - Frame "pDefaultWorld" with world attribute) <br/>
</p>
<ul>
<li><b>Range:</b> [object range]<br/>
</li>
<li><b>Default:</b>NULL<br/>
</li>
</ul>
<hr/>
<p><span class="pin">Pivot: </span>Specifies the rigid bodies local shape offset (<a class="el" href="classp_pivot_settings.html" title="Class to describe a pivot offset.">pPivotSettings</a>) <br/>
<br/>
 </p>
<div align="center">
<img src="pBPivotParameter.jpg" alt="pBPivotParameter.jpg"/>
</div>
<ul>
<li><b>Offset Linear:</b> Local position offset. The local position of can be changed by <a class="el" href="classp_rigid_body.html#adcfdf047b1e5ca33927431c6a066ff1d" title="Sets a dynamic body&#39;s position in the world.">pRigidBody::setPosition</a><b>Range:</b> [vector)</li>
<li><b>Offset Angular:</b> Local orientation offset. The local orientation of can be changed by <a class="el" href="classp_rigid_body.html#af0f06d6da8310eb62d4ad33fb9f14258" title="Sets a dynamic body&#39;s orientation in the world.">pRigidBody::setRotation</a><b>Range:</b> [0,inf)</li>
<li><b>Offset Reference:</b> Reference object to determine the shape local matrix. The members "Linear" and "Angular" are being used to transform the final matrix.<b>Range:</b> [object)</li>
</ul>
<h4>Notes</h4>
<p><br/>
</p>
<ul>
<li>Alter or set the shape offset :<ul>
<li>Using the built-in building blocks with "Physics" settings enabled :<ul>
<li>"Set Position"</li>
<li>"Translate"</li>
<li>"Set Orientation"</li>
</ul>
</li>
<li><a class="el" href="classp_rigid_body.html#adcfdf047b1e5ca33927431c6a066ff1d" title="Sets a dynamic body&#39;s position in the world.">pRigidBody::setPosition()</a> or <a class="el" href="classp_rigid_body.html#af0f06d6da8310eb62d4ad33fb9f14258" title="Sets a dynamic body&#39;s orientation in the world.">pRigidBody::setRotation()</a></li>
<li>Attach attribute "Physics\pBPivotSettings" to :<ul>
<li>3D-Entity</li>
<li>its mesh</li>
<li>or to the meshes material<br/>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr/>
<p><span class="pin">Mass: </span>Overrides mass setup (<a class="el" href="classp_mass_settings.html" title="Class describing a rigid bodies mass offset.">pMassSettings</a>) <br/>
<br/>
 </p>
<div align="center">
<img src="pBMassParameter.jpg" alt="pBMassParameter.jpg"/>
</div>
<ul>
<li><b>New Density:</b> Density scale factor of the shapes belonging to the body</p>
<ul>
<li><b>Range:</b> [0,inf)</li>
<li><b>Default:</b> [0). </li>
</ul>
</li>
</ul>
<ul>
<li><b>Total Mass:</b> </li>
</ul>
<ul>
<li><b>Offset Linear:</b> Local position offset</p>
<ul>
<li><b>Range:</b> [vector)</li>
<li><b>Default:</b> (0,0,0). </li>
</ul>
</li>
</ul>
<ul>
<li><b>Offset Angular:</b> Local orientation offset</p>
<ul>
<li><b>Range:</b> [0,inf)</li>
<li><b>Default:</b> (0,0,0). </li>
</ul>
</li>
</ul>
<ul>
<li><b>Offset Reference:</b> Reference object to determine the mass local position. The members "Linear" and "Angular" are being used to transform the final matrix.</p>
<ul>
<li><b>Range:</b> [object)</li>
<li><b>Default:</b> 0. </li>
</ul>
</li>
</ul>
<h4>Notes</h4>
<p><br/>
</p>
<ul>
<li>Alter or set mass settings :<ul>
<li>Attach attribute "Physics\pBOptimization" to the :<ul>
<li>3D-Entity</li>
<li>its mesh</li>
<li>or to the meshes material<br/>
</li>
</ul>
</li>
<li><a class="el" href="classp_rigid_body.html#a006c18f270a92193f26e9a89abf6276d" title="Recomputes a dynamic body&#39;s mass properties from its shapes.">pRigidBody::updateMassFromShapes()</a></li>
</ul>
</li>
</ul>
<hr/>
<p><span class="pin">Collision: </span>Overrides collsion settings (<a class="el" href="classp_collision_settings.html" title="Class for describing rigid bodies or its sub shapes collisions settings.">pCollisionSettings</a>) <br/>
<br/>
 </p>
<div align="center">
<img src="pBCollisionParameter.jpg" alt="pBCollisionParameter.jpg"/>
</div>
<ul>
<li><b>Collision Group: </b> collisions group the shape belongs to</p>
<ul>
<li><b>Range:</b> [0,32]</li>
<li><b>Default:</b> 0 </li>
</ul>
</li>
</ul>
<ul>
<li><b>Group Mask:</b> 128-bit mask used for collision filtering</p>
<ul>
<li><b>Range:</b> [0,4x4 bits]</li>
<li><b>Default:</b> all off </li>
</ul>
</li>
</ul>
<ul>
<li><b>Skin Width:</b>Additional collisions offset</p>
<ul>
<li><b>Range:</b> [0,1.0f]</li>
<li><b>Default:</b>0.25f</li>
<li>Can NOT altered after creation. </li>
</ul>
</li>
</ul>
<h4>Notes</h4>
<p><br/>
</p>
<ul>
<li>Alter or set collisions settings :<ul>
<li><a class="el" href="pbsetpar.html">PBSetPar</a>. Collisions group can be set per sub shape.</li>
<li><a class="el" href="classp_rigid_body.html#a4f55366c796d18a6b1ebfc1b5051d912" title="Sets the collisions group the body belongs too.">pRigidBody::setCollisionsGroup()</a></li>
<li><a class="el" href="classp_rigid_body.html#afec9beee8ee11d301d3bc6347b0e17a0" title="Sets 128-bit mask used for collision filtering. See comments for pGroupsMask.">pRigidBody::setGroupsMask()</a></li>
<li>Attach attribute "Physics\pBCollisionSettings" to :<ul>
<li>3D-Entity</li>
<li>its mesh</li>
<li>or to the meshes material <br/>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li>Please create custom groups in the Virtools "Flags and Enum manager" : "pBCollisionsGroup". This enumeration is stored in the cmo <br/>
</li>
</ul>
<hr/>
<p><span class="pin">CCD: </span>Specifies a CCD mesh. This parameter is NOT being used in this release.<br/>
<br/>
 </p>
<div align="center">
<img src="pBCCSettingsParameter.jpg" alt="pBCCSettingsParameter.jpg"/>
</div>
<hr/>
<p><span class="pin">Material: </span>Specifies a physic material(<a class="el" href="classp_material.html" title="Class for describing a shape&#39;s surface properties.">pMaterial</a>)<br/>
<br/>
 </p>
<div align="center">
<img src="pBMaterial.jpg" alt="pBMaterial.jpg"/>
</div>
<ul>
<li><b>XML Link :</b> Enumeration to identify a material setup from PhysicDefaults.xml. Is being populated automatically on reset.</p>
<ul>
<li><b>Range:</b> [0,Number of material setups in xml file)</li>
<li><b>Default:</b> [NONE). </li>
</ul>
</li>
<li><b>Dynamic Friction :</b> Coefficient of dynamic friction. If set to greater than staticFriction, <br/>
 the effective value of staticFriction will be increased to match. if flags &amp; MF_Anisotropic is set, then this value is used for the primary direction of anisotropy (U axis)<br/>
</p>
<ul>
<li><b>Range:</b> [0,+inf)</li>
<li><b>Default:</b> [0). </li>
</ul>
</li>
<li><b>Static Friction: </b> Coefficient of static friction. If flags &amp; MF_Anisotropic is set,<br/>
 then this value is used for the primary direction of anisotropy (U axis). </li>
<li><b>Restitution: </b> Coefficient of restitution. Makes the object bounce as little as possible, higher values up to 1.0 result in more bounce. Note that values close to or above 1 may cause stability problems and/or increasing energy.</p>
<ul>
<li><b>Range:</b> [0,1)</li>
<li><b>Default:</b> [0). </li>
</ul>
</li>
<li><b>Dynamic Friction V: </b> Anisotropic dynamic friction coefficient for along the secondary (V) axis of anisotropy. This is only used if flags &amp; MF_Anisotropic is set.</p>
<ul>
<li><b>Range:</b> [0,inf)</li>
<li><b>Default:</b> [0). </li>
</ul>
</li>
<li><b>Static Friction V : </b> Anisotropic static friction coefficient for along the secondary (V) axis of anisotropy. This is only used if flags &amp; MF_Anisotropic is set.</p>
<ul>
<li><b>Range:</b> [0,inf)</li>
<li><b>Default:</b> [0). </li>
</ul>
</li>
<li><b>Direction Of Anisotropy: </b> shape space direction (unit vector) of anisotropy. This is only used if flags &amp; MF_Anisotropic is set.</p>
<ul>
<li><b>Range:</b> [vector)</li>
<li><b>Default:</b> [1.0f,0.0f,0.0f) </li>
</ul>
</li>
<li><b>Friction Combine Mode: </b> Friction combine mode. See the enum CombineMode .</p>
<ul>
<li><b>Range:</b> [CombineMode)</li>
<li><b>Default:</b> [CM_Average). </li>
</ul>
</li>
<li><b>Restitution Combine Mode: </b> Restitution combine mode. See the enum CombineMode .</p>
<ul>
<li><b>Range:</b> [CombineMode)</li>
<li><b>Default:</b> [CM_Average). </li>
</ul>
</li>
<li><b>Flags: </b> Flags, a combination of the bits defined by the enum pMaterialFlag <br/>
</p>
<ul>
<li><b>Default:</b> 0. </li>
</ul>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group___rigid_body.html#ga9d7a2e3cb2ec0b6e6e4ad76490c80852">MaterialFlags</a> </dd></dl>
</li>
</ul>
<h4>Notes</h4>
<p><br/>
</p>
<ul>
<li>Alter or set a physic material is also possible by :<ul>
<li><a class="el" href="pbsetmaterial.html">PBSetMaterial</a></li>
<li>pRigidBody::updateMaterialSettings()</li>
<li>Attach attribute "Physics\pBMaterial" to :<ul>
<li>3D-Entity</li>
<li>its mesh</li>
<li>or to the meshes material</li>
</ul>
</li>
<li>Using VSL :</li>
</ul>
</li>
</ul>
<p><span class="NiceCode"> </p>
<div class="fragment"><pre class="fragment"><a class="code" href="classp_factory.html" title="Singleton class to create physic objects.">pFactory</a> pf = getPFactory();

<span class="comment">//----------------------------------------------------------------</span>
<span class="comment">//</span>
<span class="comment">// fill object description</span>
<span class="comment">//</span>

<a class="code" href="classp_object_descr.html" title="Describes a rigid body.">pObjectDescr</a> oDescr;

oDescr.<a class="code" href="classp_object_descr.html#ac4267cc29b17784d79f0c83e0f98ee33" title="Describes several properties. See BodyFlags. Default = 0.">flags</a>                        = <a class="code" href="group___rigid_body.html#ggaf91a82afd15268f60bedb37acba0050da4ee79ca4d431fe9df90d97ea9ab934d4">BF_Moving</a> + <a class="code" href="group___rigid_body.html#ggaf91a82afd15268f60bedb37acba0050dae205507f051b9ce13327e696b051fc8d">BF_Collision</a> + BF_Gravity;

oDescr.<a class="code" href="classp_object_descr.html#a5a048376c1f4648ed5f7932e133533f1" title="The shape type of the body. Default = HT_Sphere.">hullType</a>                     = <a class="code" href="group___rigid_body.html#ggae3a18d6e3dcbff2fbc246b48960a94d9a4e01ba2cbf19ea13a687ed81132f2aea">HT_Box</a>;   <span class="comment">//  set hull type</span>

<span class="comment">//----------------------------------------------------------------</span>
<span class="comment">//</span>
<span class="comment">// load material</span>
<span class="comment">//</span>
<span class="keywordtype">int</span> error = pf.loadMaterial(oDescr.material,<span class="stringliteral">&quot;Slippy&quot;</span>);  <span class="comment">// the manager will notify it if where something went wrong</span>

<span class="comment">//  tell manager, there are material settings being used, otherwise,</span>
<span class="comment">//  it looks for cylinder settings in the objects attributes, lookup order :</span>
<span class="comment">//      -   3D-entity</span>
<span class="comment">//      -   current mesh</span>
<span class="comment">//      -   materials</span>
<span class="comment">//</span>
oDescr.mask                         +=OD_Material;

<span class="comment">//  Make it a bit more bouncy :</span>
<span class="comment">//</span>
<a class="code" href="classp_material.html" title="Class for describing a shape&amp;#39;s surface properties.">pMaterial</a> material = oDescr.getMaterial();
material.<a class="code" href="classp_material.html#a1fac93339dfb6b139d18dedfc4674197" title="Coefficient of restitution. Makes the object bounce as little as possible, higher...">restitution</a> +=0.5f;
oDescr.setMaterial(material);
</pre></div><p> </span></p>
<ul>
<li>The enumeration "XML Link" is being populated by the file "PhysicDefaults.xml" and gets updated on every reset.</li>
<li>If using settings from XML, the parameter gets updated too<br/>
</li>
</ul>
<hr/>
<p><span class="pin">Optimization: </span>Specifies various optimizations(<a class="el" href="classp_optimization.html" title="Class for describing rigid bodies optimization.">pOptimization</a>)<br/>
<br/>
 </p>
<div align="center">
<img src="pBOptimization.jpg" alt="pBOptimization.jpg"/>
</div>
<ul>
<li><b>Transformation Locks :</b> Flags to lock a rigid body in certain degree of freedom. See also pRigidBody::lockTransformation</li>
<li><b>Damping:</b></li>
</ul>
<ul>
<li><b>Linear Damping :</b> Sets the linear damping coefficient.<br/>
. Zero represents no damping. The damping coefficient must be nonnegative.<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>linDamp</em>&nbsp;</td><td>Linear damping coefficient. <b>Range:</b> [0,inf)</td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classp_rigid_body.html#ac2f207318511894b2f00badc13f61387" title="Retrieves the linear damping coefficient. .">getLinearDamping()</a></dd></dl>
<dl class="warning"><dt><b>Warning:</b></dt><dd>The body must be dynamic. </dd></dl>
</li>
</ul>
<ul>
<li><b>Angular Damping :</b> Sets the angular damping coefficient.<br/>
. Zero represents no damping. The damping coefficient must be nonnegative.<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>angDamp</em>&nbsp;</td><td>Angular damping coefficient. <b>Range:</b> [0,inf)</td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classp_rigid_body.html#ac2f207318511894b2f00badc13f61387" title="Retrieves the linear damping coefficient. .">getLinearDamping()</a></dd></dl>
<dl class="warning"><dt><b>Warning:</b></dt><dd>The body must be dynamic. </dd></dl>
</li>
</ul>
<ul>
<li><b>Sleeping:</b></li>
</ul>
<ul>
<li><b>Linear Sleep Velocity :</b> Sets the linear velocity below which an body may go to sleep.<br/>
. </li>
</ul>
<ul>
<li><b>Angular Sleep Velocity :</b> Sets the angular velocity below which an body may go to sleep.<br/>
. Bodies whose angular velocity is above this threshold will not be put to sleep.If the threshold value is negative, the velocity threshold is set using the NxPhysicsSDK's NX_DEFAULT_SLEEP_LIN_VEL_SQUARED parameter.Setting the sleep angular/linear velocity only makes sense when the NX_BF_ENERGY_SLEEP_TEST is not set. In version 2.5 and later a new method is used by default which uses the kinetic energy of the body to control sleeping.The body must be dynamic.<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>threshold</em>&nbsp;</td><td>Angular velocity below which an body may go to sleep.</td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>
<ul>
<li><b>Sleep Energy Threshold :</b> Sets the energy threshold below which an body may go to sleep.<br/>
. Bodies whose kinematic energy is above this threshold will not be put to sleep.If the threshold value is negative, the velocity threshold is set using the NxPhysicsSDK's NX_DEFAULT_SLEEP_ENERGY parameter.Setting the sleep energy threshold only makes sense when the NX_BF_ENERGY_SLEEP_TEST is set. There are also other types of sleeping that uses the linear and angular velocities directly instead of the energy.The body must be dynamic.<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>threshold</em>&nbsp;</td><td>Energy below which an actor may go to sleep. <br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>
<ul>
<li><b>Solver Iteration :</b> The solver iteration count determines how accurately joints and contacts are resolved. <br/>
 If you are having trouble with jointed bodies oscillating and behaving erratically, then setting a higher solver iteration count may improve their stability. <dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>count</em>&nbsp;</td><td>Number of iterations the solver should perform for this body. <br/>
</p>
<ul>
<li><b>Range:</b> [1,255] </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>
<ul>
<li><b>Dominance Group :</b> Assigns dynamic bodies a dominance group identifier.<br/>
. The dominance group is a 5 bit group identifier (legal range from 0 to 31).The pWorld::setDominanceGroupPair() lets you set certain behaviors for pairs of dominance groups. By default every body is created in group 0. Static bodies must stay in group 0; thus you can only call this on dynamic bodys.<b>Sleeping:</b> Changing the dominance group does <b>NOT</b> wake the body up automatically.<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classp_rigid_body.html#a26f85f61fde9a083fed8d7bf06bf2a86" title="Retrieves the value set with setDominanceGroup(). .">getDominanceGroup()</a> NxScene::setDominanceGroupPair() </dd></dl>
</li>
</ul>
<ul>
<li><b>Compartment Id :</b> Not Implemented</li>
</ul>
<h4>Notes</h4>
<p><br/>
</p>
<ul>
<li>Alter or set a rigid bodies optimization is also possible by :<ul>
<li><a class="el" href="pbsetpar.html">PBSetPar</a></li>
<li>pRigidBody::updateOptimizationSettings()</li>
<li>Attach the attribute "Physics\pBOptimization" to :<ul>
<li>3D-Entity</li>
<li>its mesh</li>
<li>or to the meshes material<br/>
</li>
</ul>
</li>
<li>Using VSL before creation :</li>
</ul>
</li>
</ul>
<div class="fragment"><pre class="fragment">/----------------------------------------------------------------
<span class="comment">//</span>
<span class="comment">// fill optimization parameters</span>
<span class="comment">//</span>
<a class="code" href="classp_optimization.html" title="Class for describing rigid bodies optimization.">pOptimization</a> optimization;

optimization.<a class="code" href="classp_optimization.html#ac33c5b470644c39188e68d64b5887e5c" title="Flags to lock a rigid body in certain degree of freedom. See also pRigidBody::lockTransformation...">transformationFlags</a>  +=BF_LRY;             <span class="comment">//lock rotation around Y</span>
optimization.<a class="code" href="classp_optimization.html#ac33c5b470644c39188e68d64b5887e5c" title="Flags to lock a rigid body in certain degree of freedom. See also pRigidBody::lockTransformation...">transformationFlags</a>  +=BF_LPY;             <span class="comment">//lock moving along Y</span>

oDescr.setOptimization(optimization);

oDescr.mask                         +=OD_Optimization;
</pre></div><ul>
<li>Using VSL after creation :</li>
</ul>
<p><span class="NiceCode"> </p>
<div class="fragment"><pre class="fragment"><span class="comment">//----------------------------------------------------------------</span>
<span class="comment">//</span>
<span class="comment">// fill optimization settings and update</span>
<span class="comment">//</span>
<a class="code" href="classp_optimization.html" title="Class for describing rigid bodies optimization.">pOptimization</a> optimization;

optimization.<a class="code" href="classp_optimization.html#ac33c5b470644c39188e68d64b5887e5c" title="Flags to lock a rigid body in certain degree of freedom. See also pRigidBody::lockTransformation...">transformationFlags</a>  +=BF_LRY;             <span class="comment">//lock rotation around Y</span>
optimization.<a class="code" href="classp_optimization.html#ac33c5b470644c39188e68d64b5887e5c" title="Flags to lock a rigid body in certain degree of freedom. See also pRigidBody::lockTransformation...">transformationFlags</a>  +=BF_LPY;             <span class="comment">//lock moving along Y</span>


body.updateOptimization(optimization)

<span class="comment">//----------------------------------------------------------------</span>
<span class="comment">//</span>
<span class="comment">// or specify values directly</span>
<span class="comment">//</span>

body.lockTransformation( BF_LRY + BF_LRY );
body.setLinearDamping(linDamping);
body.setAngularDamping(angDamping);
</pre></div><p> </span></p>
<hr/>
<p><span class="pin">Capsule Settings: </span>Overrides capsule default dimensions(<a class="el" href="structp_capsule_settings_ex.html" title="Additional settings to override a default capsule.">pCapsuleSettingsEx</a>)<br/>
<br/>
 </p>
<div align="center">
<img src="pBCapsuleSettings.jpg" alt="pBCapsuleSettings.jpg"/>
</div>
<ul>
<li><b>Radius :</b> Radius specified by value or an objects local box size and an axis. </li>
<li><b>Height :</b> Height specified by value or an objects local box size and an axis. </li>
</ul>
<h4>Notes</h4>
<p><br/>
</p>
<ul>
<li>Setting a rigid bodies capsule dimension is also possible by :</li>
<li>Attach the attribute "Physics\pCapsule" to :<ul>
<li>3D-Entity</li>
<li>its mesh</li>
<li>or to the meshes material</li>
</ul>
</li>
</ul>
<ul>
<li>VSL :</li>
</ul>
<p><span class="NiceCode"> </p>
<div class="fragment"><pre class="fragment"><a class="code" href="classp_object_descr.html" title="Describes a rigid body.">pObjectDescr</a> oDescr;

oDescr.<a class="code" href="classp_object_descr.html#ac4267cc29b17784d79f0c83e0f98ee33" title="Describes several properties. See BodyFlags. Default = 0.">flags</a>                        = <a class="code" href="group___rigid_body.html#ggaf91a82afd15268f60bedb37acba0050da4ee79ca4d431fe9df90d97ea9ab934d4">BF_Moving</a> + <a class="code" href="group___rigid_body.html#ggaf91a82afd15268f60bedb37acba0050dae205507f051b9ce13327e696b051fc8d">BF_Collision</a> + BF_Gravity;

oDescr.<a class="code" href="classp_object_descr.html#a5a048376c1f4648ed5f7932e133533f1" title="The shape type of the body. Default = HT_Sphere.">hullType</a>                     = <a class="code" href="group___rigid_body.html#ggae3a18d6e3dcbff2fbc246b48960a94d9a85055b08333fef19388d7215483a1419">HT_Capsule</a>;<span class="comment">// set hull type</span>


<a class="code" href="structp_capsule_settings_ex.html" title="Additional settings to override a default capsule.">pCapsuleSettingsEx</a> capsule;

capsule.<a class="code" href="structp_capsule_settings_ex.html#ad6c4cbf3270e52b2a59f496c3b2179a8" title="Height specified by value or an objects local box size and an axis.">height</a>.referenceAxis    = DIR_Y;    <span class="comment">//  capsule longest side is along local Y Axis</span>
capsule.<a class="code" href="structp_capsule_settings_ex.html#ad6c4cbf3270e52b2a59f496c3b2179a8" title="Height specified by value or an objects local box size and an axis.">height</a>.reference        = ref;      <span class="comment">//  measure length from input entity</span>

capsule.<a class="code" href="structp_capsule_settings_ex.html#af795157755ac27fd9b6411cab4d09137" title="Radius specified by value or an objects local box size and an axis.">radius</a>.referenceAxis    = DIR_Y;    <span class="comment">//</span>
capsule.<a class="code" href="structp_capsule_settings_ex.html#af795157755ac27fd9b6411cab4d09137" title="Radius specified by value or an objects local box size and an axis.">radius</a>.reference        = ref;      <span class="comment">//</span>

oDescr.setCapsule(capsule);


<span class="comment">//  tell manager, there are capsule settings being used, otherwise,</span>
<span class="comment">//  it looks for capsule settings in the objects attributes, lookup order :</span>
<span class="comment">//      -   3D-entity</span>
<span class="comment">//      -   current mesh</span>
<span class="comment">//      -   materials</span>
<span class="comment">//</span>
<span class="comment">//  If there is no such attribute, capsule is set to default :</span>
<span class="comment">//      height from BoxSize[Y]</span>
<span class="comment">//      radius from BoxSize[X]</span>
<span class="comment">//</span>
oDescr.mask                         +=OD_Capsule;
</pre></div><p> </span></p>
<hr/>
<p><span class="pin">Convex Cylinder Settings: </span>Overrides default convex cylinder settings(<a class="el" href="classp_convex_cylinder_settings.html" title="Optional override to describe a convex cylinder.">pConvexCylinderSettings</a>)<br/>
<br/>
 </p>
<div align="center">
<img src="pBConvexCylinder.jpg" alt="pBConvexCylinder.jpg"/>
</div>
<ul>
<li><b>Approximation :</b> Amount of cap segments. </li>
</ul>
<ul>
<li><b>Radius :</b> Radius specified by value or an objects local box size and an axis. </li>
<li><b>Height :</b> Height specified by value or an objects local box size and an axis. </li>
</ul>
<ul>
<li><b>Forward Axis :</b> Rotation part 1. If a forward axis reference has been specified, the vector gets transformed. </li>
<li><b>Forward Axis Reference:</b> Reference to specify the "Dir" axis. </li>
</ul>
<ul>
<li><b>Down Axis :</b> Rotation part 2. If a down axis reference has been specified, the vector gets transformed. </li>
<li><b>Down Axis Reference:</b> Reference to specify the "Up" axis. </li>
</ul>
<ul>
<li><b>Right :</b> Rotation part 3. If a right axis reference has been specified, the vector gets transformed. </li>
<li><b>Right Axis Reference:</b> Reference to specify the "Right" axis. </li>
</ul>
<ul>
<li><b>Build Lower Half Only :</b> Create only a half cylinder. </li>
</ul>
<ul>
<li><b>Convex Flags :</b> Flags which describe the format and behavior of a convex mesh. See <a class="el" href="group___rigid_body.html#gaae3e3034f142a46d0f4cbc89bed756c3" title="Flags which describe the format and behavior of a convex mesh.">pConvexFlags</a>. </li>
</ul>
<h4>Notes</h4>
<p><br/>
</p>
<ul>
<li>Set a rigid bodies convex cylinder parameters by :<ul>
<li>Attach the attribute "Physics\pConvexCylinder" to :<ul>
<li>3D-Entity</li>
<li>its mesh</li>
<li>or to the meshes material</li>
</ul>
</li>
</ul>
</li>
<li>VSL :</li>
</ul>
<p><span class="NiceCode"> </p>
<div class="fragment"><pre class="fragment"><a class="code" href="classp_object_descr.html" title="Describes a rigid body.">pObjectDescr</a> oDescr;

oDescr.<a class="code" href="classp_object_descr.html#ac4267cc29b17784d79f0c83e0f98ee33" title="Describes several properties. See BodyFlags. Default = 0.">flags</a>                        = <a class="code" href="group___rigid_body.html#ggaf91a82afd15268f60bedb37acba0050da4ee79ca4d431fe9df90d97ea9ab934d4">BF_Moving</a> + <a class="code" href="group___rigid_body.html#ggaf91a82afd15268f60bedb37acba0050dae205507f051b9ce13327e696b051fc8d">BF_Collision</a> + BF_Gravity;

oDescr.<a class="code" href="classp_object_descr.html#a5a048376c1f4648ed5f7932e133533f1" title="The shape type of the body. Default = HT_Sphere.">hullType</a>                     = <a class="code" href="group___rigid_body.html#ggae3a18d6e3dcbff2fbc246b48960a94d9a5cde6d9a3fc71f08bf4ab9714a2fd7da">HT_ConvexCylinder</a>;    <span class="comment">//  set hull type</span>


<a class="code" href="classp_convex_cylinder_settings.html" title="Optional override to describe a convex cylinder.">pConvexCylinderSettings</a> cylinder;

cylinder.<a class="code" href="classp_convex_cylinder_settings.html#aaa166d3e98364ffbe556a7465a0df952" title="Height specified by value or an objects local box size and an axis.">height</a>.referenceAxis   = DIR_X;    <span class="comment">//  capsule longest side is along local Y Axis</span>
cylinder.<a class="code" href="classp_convex_cylinder_settings.html#aaa166d3e98364ffbe556a7465a0df952" title="Height specified by value or an objects local box size and an axis.">height</a>.reference       = ref;      <span class="comment">//  measure length from input entity</span>

cylinder.<a class="code" href="classp_convex_cylinder_settings.html#a9d16fa681c0c91008edc59516a67c5fe" title="Radius specified by value or an objects local box size and an axis.">radius</a>.referenceAxis   = DIR_Z;    <span class="comment">//</span>
cylinder.<a class="code" href="classp_convex_cylinder_settings.html#a9d16fa681c0c91008edc59516a67c5fe" title="Radius specified by value or an objects local box size and an axis.">radius</a>.reference       = ref;      <span class="comment">//</span>

cylinder.<a class="code" href="classp_convex_cylinder_settings.html#a455a6089ff543e281299ebcca130e297" title="Rotation part 1. If a forward axis reference has been specified, the vector gets...">forwardAxis</a>.Set(0,0,-1);           <span class="comment">// Magic numbers</span>
cylinder.<a class="code" href="classp_convex_cylinder_settings.html#af41638aa39264e558b226730666a85a7" title="Rotation part 2. If a down axis reference has been specified, the vector gets transformed...">downAxis</a>.Set(0,-1,0);
cylinder.<a class="code" href="classp_convex_cylinder_settings.html#a4745c62595b54ef8a671bb1795638e11" title="Rotation part 3. If a right axis reference has been specified, the vector gets transformed...">rightAxis</a>.Set(1,0,0);

cylinder.<a class="code" href="classp_convex_cylinder_settings.html#a2599200bbc2cdcb38627695014972755" title="Create only a half cylinder.">buildLowerHalfOnly</a>     = <span class="keyword">false</span>;
cylinder.<a class="code" href="classp_convex_cylinder_settings.html#afa1ff84ec9d26baeee7c4eae114b892b" title="Amount of cap segments.">approximation</a>          = 64;       <span class="comment">//at least 4 segments !</span>

oDescr.setConvexCylinder(cylinder);



<span class="comment">//  tell manager, there are convex cylinder settings being used, otherwise,</span>
<span class="comment">//  it looks for cylinder settings in the objects attributes, lookup order :</span>
<span class="comment">//      -   3D-entity</span>
<span class="comment">//      -   current mesh</span>
<span class="comment">//      -   materials</span>
<span class="comment">//</span>
<span class="comment">//  If there is no such attribute, convex cylinder is set to default :</span>
<span class="comment">//</span>
<span class="comment">//      height              = BoxSize[Y]</span>
<span class="comment">//      radius              = BoxSize[X] * 0.5f</span>
<span class="comment">//</span>
<span class="comment">//      approximation       = 4</span>
<span class="comment">//</span>
<span class="comment">//      buildLowerHalfOnly  = false</span>
<span class="comment">//</span>
<span class="comment">//      convexFlags         = CF_ComputeConvex;</span>
<span class="comment">//</span>
<span class="comment">//      downAxis            = 0,-1,0</span>
<span class="comment">//      rightAxis           = 1,0,0</span>
<span class="comment">//      forwardAxis         = 0,0,1</span>

oDescr.mask                         +=OD_ConvexCylinder;

</pre></div><p> </span></p>
<hr/>
 </div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Wed Feb 3 18:57:23 2010 for vtPhysX by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
