<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>vtPhysX: Linear Limits</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="online.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="main.html">PhysX for Virtools</a>&nbsp;&raquo&nbsp;<a class="el" href="guide.html">Guide</a>&nbsp;&raquo&nbsp;<a class="el" href="joint.html">Joint</a>&nbsp;&raquo&nbsp;<a class="el" href="d6joints.html">6DOF Joints</a>
  </div>
</div>
<div class="contents">


<h1><a class="anchor" id="D6LinearLimitGuide">Linear Limits </a></h1><h3>Linear Limits</h3>
<p>Linear joint limits are currently specified by a single radial distance parameter applying to all three DOFs. It is a radial parameter because with two or three limited DOFs the limits are combined into a circle or a sphere, rather than a square or a cubical box, in order to avoid having multiple limits active at corners.</p>
<h4>Examples</h4>
<p><b>Three linear DOFs limited: Spherical limit : </b></p>
<p>Limiting all three DOFs gives a spherical limit surface which can be visualized as a bubble centered on the parent frame origin, such that the origin of the child frame is constrained to remain inside the sphere.</p>
<div align="center">
<img src="6dof_linearsphere.png" alt="6dof_linearsphere.png"/>
</div>
<p>The red circle becomes a sphere when extended to 3 dimension.</p>
<p><span class="NiceCode"> </p>
<div class="fragment"><pre class="fragment"><span class="comment">//we retrieve a joint object : </span>
<a class="code" href="classp_joint.html" title="Abstract base class for the different types of joints.">pJoint</a> joint  = w.getJoint(bodyARef,bodyBRef,<a class="code" href="group___joints.html#ggadcea5be96146723d822b7db05024d881a37ee076a40104ad3394dbb49468a8e46">JT_Revolute</a>);
<span class="keywordflow">if</span>(!joint)
<span class="keywordflow">return</span>;

<span class="comment">//Virtools is not providing simple downcasts : </span>
<a class="code" href="classp_joint_d6.html" title="A D6 joint is a general constraint between two actors.">pJointD6</a> d6  = joint.castD6Joint();
<span class="keywordflow">if</span>(!d6)
<span class="keywordflow">return</span>;

<span class="comment">//Spherical linear limit (hard limit)</span>

d6.<a class="code" href="classp_joint_d6.html#a17ddf13c71611b2230c62650e199c021" title="Sets the motion mode for the linear x axis.">setXMotionMode</a>(<a class="code" href="group___d6.html#gga78bd37a3243af04c0ef86a19ffd70e88a2838ecaea35eb766d06b0561aaa3dd22">D6MM_Limited</a>);
d6.<a class="code" href="classp_joint_d6.html#a970054559a0c0db900fd975bf5d61a4b" title="Sets the motion mode for the linear y axis.">setYMotionMode</a>(<a class="code" href="group___d6.html#gga78bd37a3243af04c0ef86a19ffd70e88a2838ecaea35eb766d06b0561aaa3dd22">D6MM_Limited</a>);
d6.<a class="code" href="classp_joint_d6.html#a5208f96c3a88d8a38d71a4f027a879e1" title="Sets the motion mode for the linear z axis.">setZMotionMode</a>(<a class="code" href="group___d6.html#gga78bd37a3243af04c0ef86a19ffd70e88a2838ecaea35eb766d06b0561aaa3dd22">D6MM_Limited</a>);

<a class="code" href="classp_j_d6_soft_limit.html" title="Describes a joint soft limit for D6 usage. pJD6SoftLimit is registered as custom...">pJD6SoftLimit</a> lLimit;
lLimit.<a class="code" href="classp_j_d6_soft_limit.html#a91814e50aa95cae88a642f264a7ee331" title="The angle or position beyond which the limit is active.">value</a>    = limitRadius;
lLimit.<a class="code" href="classp_j_d6_soft_limit.html#ac7e067bb289ad4dcd175ea409a524b7a" title="If spring is greater than zero, this is the damping of the spring.">damping</a>  = 0.0f;     <span class="comment">//0 is default anyway</span>
lLimit.<a class="code" href="classp_j_d6_soft_limit.html#ab1f5506703f3085e14def6a66e51beab" title="Controls the amount of bounce when the joint hits a limit.     A restitution value...">restitution</a> = 0.0f;  <span class="comment">//0 is default anyway</span>

d6.setLinearLimit(lLimit);


</pre></div><p> </span> <br/>
 <hr/>
<p><b>Two linear DOFs limited: Cylindrical limit</b></p>
<p>Limiting two linear DOFs and leaving one free creates a cylindrical limit surface centered on the free axis. The child frame origin is constrained to remain inside the cylinder.</p>
<p>See the above illustration, but instead of the red circle becoming a sphere, when extended to 3 dimension, it becomes a cylinder along the axis into the page.</p>
<p>If the third DOF is locked rather than left free, the joint collapses to a planar joint with a circular limit.</p>
<p><span class="NiceCode"> </p>
<div class="fragment"><pre class="fragment"><span class="comment">//we retrieve a joint object : </span>
<a class="code" href="classp_joint.html" title="Abstract base class for the different types of joints.">pJoint</a> joint  = w.getJoint(bodyARef,bodyBRef,<a class="code" href="group___joints.html#ggadcea5be96146723d822b7db05024d881a37ee076a40104ad3394dbb49468a8e46">JT_Revolute</a>);
<span class="keywordflow">if</span>(!joint)
<span class="keywordflow">return</span>;

<span class="comment">//Virtools is not providing simple downcasts : </span>
<a class="code" href="classp_joint_d6.html" title="A D6 joint is a general constraint between two actors.">pJointD6</a> d6  = joint.castD6Joint();
<span class="keywordflow">if</span>(!d6)
<span class="keywordflow">return</span>;

<span class="comment">//Cylindrical linear limit. The axis of the cylinder is the x axis.</span>
d6.<a class="code" href="classp_joint_d6.html#a17ddf13c71611b2230c62650e199c021" title="Sets the motion mode for the linear x axis.">setXMotionMode</a>(<a class="code" href="group___d6.html#gga78bd37a3243af04c0ef86a19ffd70e88ab01e9c612e88a93f12fa57af51b10d53">D6MM_Free</a>);
d6.<a class="code" href="classp_joint_d6.html#a970054559a0c0db900fd975bf5d61a4b" title="Sets the motion mode for the linear y axis.">setYMotionMode</a>(<a class="code" href="group___d6.html#gga78bd37a3243af04c0ef86a19ffd70e88a2838ecaea35eb766d06b0561aaa3dd22">D6MM_Limited</a>);
d6.<a class="code" href="classp_joint_d6.html#a5208f96c3a88d8a38d71a4f027a879e1" title="Sets the motion mode for the linear z axis.">setZMotionMode</a>(<a class="code" href="group___d6.html#gga78bd37a3243af04c0ef86a19ffd70e88a2838ecaea35eb766d06b0561aaa3dd22">D6MM_Limited</a>);

<a class="code" href="classp_j_d6_soft_limit.html" title="Describes a joint soft limit for D6 usage. pJD6SoftLimit is registered as custom...">pJD6SoftLimit</a> lLimit;
lLimit.<a class="code" href="classp_j_d6_soft_limit.html#a91814e50aa95cae88a642f264a7ee331" title="The angle or position beyond which the limit is active.">value</a>    = limitRadius;
lLimit.<a class="code" href="classp_j_d6_soft_limit.html#ac7e067bb289ad4dcd175ea409a524b7a" title="If spring is greater than zero, this is the damping of the spring.">damping</a>  = 0.0f;     <span class="comment">//0 is default anyway</span>
lLimit.<a class="code" href="classp_j_d6_soft_limit.html#ab1f5506703f3085e14def6a66e51beab" title="Controls the amount of bounce when the joint hits a limit.     A restitution value...">restitution</a> = 0.0f;  <span class="comment">//0 is default anyway</span>

d6.setLinearLimit(lLimit);


</pre></div><p> </span> <br/>
</p>
<hr/>
<p><b>One linear DOF limit: Pair-of-planes limit</b></p>
<p>Limiting just one DOF and leaving the others free creates a pair of parallel limit planes fixed in the parent and separated along the selected limited axis by the radial distance either side of the parent frame origin. The child frame origin is constrained to lie between the two planes.</p>
<div align="center">
<img src="6dof_linearsingle.png" alt="6dof_linearsingle.png"/>
</div>
<p>If one of the free DOFs is locked then the joint collapses to a planar joint and the origin of the child frame is constrained to lie between a pair of parallel lines centered in the selected plane of the parent frame.</p>
<p>If both of the free DOFs are locked then the joint collapses to a point-in-line joint with the child frame origin constrained to lie between ± the specified radial distance along the selected parent frame axis.</p>
<div align="center">
<img src="6dof_linearsingle2.png" alt="6dof_linearsingle2.png"/>
</div>
<p><span class="NiceCode"> </p>
<div class="fragment"><pre class="fragment"><span class="comment">//we retrieve a joint object : </span>
<a class="code" href="classp_joint.html" title="Abstract base class for the different types of joints.">pJoint</a> joint  = w.getJoint(bodyARef,bodyBRef,<a class="code" href="group___joints.html#ggadcea5be96146723d822b7db05024d881a37ee076a40104ad3394dbb49468a8e46">JT_Revolute</a>);
<span class="keywordflow">if</span>(!joint)
<span class="keywordflow">return</span>;

<span class="comment">//Virtools is not providing simple downcasts : </span>
<a class="code" href="classp_joint_d6.html" title="A D6 joint is a general constraint between two actors.">pJointD6</a> d6  = joint.castD6Joint();
<span class="keywordflow">if</span>(!d6)
<span class="keywordflow">return</span>;

<span class="comment">//Single linear limit</span>
d6.<a class="code" href="classp_joint_d6.html#a17ddf13c71611b2230c62650e199c021" title="Sets the motion mode for the linear x axis.">setXMotionMode</a>(<a class="code" href="group___d6.html#gga78bd37a3243af04c0ef86a19ffd70e88a2838ecaea35eb766d06b0561aaa3dd22">D6MM_Limited</a>);
d6.<a class="code" href="classp_joint_d6.html#a970054559a0c0db900fd975bf5d61a4b" title="Sets the motion mode for the linear y axis.">setYMotionMode</a>(<a class="code" href="group___d6.html#gga78bd37a3243af04c0ef86a19ffd70e88ab01e9c612e88a93f12fa57af51b10d53">D6MM_Free</a>);
d6.<a class="code" href="classp_joint_d6.html#a5208f96c3a88d8a38d71a4f027a879e1" title="Sets the motion mode for the linear z axis.">setZMotionMode</a>(<a class="code" href="group___d6.html#gga78bd37a3243af04c0ef86a19ffd70e88ab01e9c612e88a93f12fa57af51b10d53">D6MM_Free</a>);


<a class="code" href="classp_j_d6_soft_limit.html" title="Describes a joint soft limit for D6 usage. pJD6SoftLimit is registered as custom...">pJD6SoftLimit</a> lLimit;
lLimit.<a class="code" href="classp_j_d6_soft_limit.html#a91814e50aa95cae88a642f264a7ee331" title="The angle or position beyond which the limit is active.">value</a>    = limitRadius;
lLimit.<a class="code" href="classp_j_d6_soft_limit.html#ac7e067bb289ad4dcd175ea409a524b7a" title="If spring is greater than zero, this is the damping of the spring.">damping</a>  = 0.0f;     <span class="comment">//0 is default anyway</span>
lLimit.<a class="code" href="classp_j_d6_soft_limit.html#ab1f5506703f3085e14def6a66e51beab" title="Controls the amount of bounce when the joint hits a limit.     A restitution value...">restitution</a> = 0.0f;  <span class="comment">//0 is default anyway</span>

d6.setLinearLimit(lLimit);

</pre></div><p> </span> <br/>
</p>
<hr/>
 <hr/>
 </div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Wed Feb 3 18:57:23 2010 for vtPhysX by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
