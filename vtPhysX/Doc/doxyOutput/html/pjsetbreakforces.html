<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>vtPhysX: </title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="online.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="main.html">PhysX for Virtools</a>&nbsp;&raquo&nbsp;<a class="el" href="buildingblocks.html">Building Blocks</a>&nbsp;&raquo&nbsp;<a class="el" href="joints.html">Joints</a>
  </div>
</div>
<div class="contents">
<p><br/>
 PJSetBreakForces is categorized in <a class="el" href="joints.html">Joints</a> <br/>
</p>
<h3>Description</h3>
<p>Apply to a <a href="Documentation.chm::/beobjects/1_ck3dentity.html">3DEntity</a><br/>
 Sets a joint as breakable or unbreakable.</p>
<p><br/>
</p>
<h3>Technical Information</h3>
<p>Joints can be set to be breakable. This means that if a joint is tugged on with a large enough force, it will snap apart. To set a breakable joint, set the maxForce and maxTorque members of NxJointDesc to the desired values - the smaller the value, the more easily the joint will break. The maxForce defines the limit for linear forces that can be applied to a joint before it breaks, while the maxTorque defines the limit for angular forces. The exact behavior depends on the type of joint. It is possible to change these parameters for an existing joint using <a class="el" href="classp_joint.html#ae62c1e3223625c6d96d681ac8e10d00b" title="Sets the maximum force magnitude that the joint is able to withstand without breaking...">pJoint::setBreakForces()</a>.</p>
<p>When a joint breaks, the <a class="el" href="pjisbroken.html">PJIsBroken</a> will be called.</p>
<p><b> Maximum Force and maximum Torque</b></p>
<p>The distinction between maxForce and maxTorque is dependent on how the joint is implemented internally, which may not be obvious. For example, what appears to be an angular degree of freedom may be constrained indirectly by a linear constraint.</p>
<p>Therefore, in most practical applications the user should set both maxTorque and maxForce to similar values.</p>
<p>In the current implementation, the following joints use angular constraints:</p>
<ul>
<li><a class="el" href="pjd6.html">PJD6</a> - Only in the case where angular DOFs are locked.</li>
<li><a class="el" href="pjfixed.html">PJFixed</a></li>
<li>PJPrismatic</li>
<li><a class="el" href="pjrevolute.html">PJRevolute</a></li>
</ul>
<div align="center">
<img src="PJSetBreakForces.png" alt="PJSetBreakForces.png"/>
</div>
<p><span class="in">In: </span> triggers the process <br/>
 <span class="out">Out: </span> is activated when the process is completed. <br/>
</p>
<p><span class="pin">Body B: </span> The second body. Leave blank to create a joint constraint with the world. <br/>
</p>
<p><span class="pin">Joint Type:</span> The joint type. This helps the building block to identify a joint constraint. As usual there can be only one joint of the type x between two bodies. <br/>
</p>
<p><span class="pin">Maximum Force:</span> Maximum force the joint can withstand without breaking.</p>
<ul>
<li><b>Range:</b> (0,inf] <br/>
</li>
</ul>
<p><span class="pin">Maximum Torque:</span> Maximum torque the joint can withstand without breaking.</p>
<ul>
<li><b>Range:</b> (0,inf] <br/>
</li>
</ul>
<p>If Maximum Force = 0.0 AND Maximum Torque = 0.0 the joint becomes unbreakable.</p>
<h3>VSL : Set break forces </h3>
<p><br/>
 <span class="NiceCode"> </p>
<div class="fragment"><pre class="fragment"><a class="code" href="class_physic_manager.html" title="PhysicManager is a Virtools manager and acts as singleton object.">PhysicManager</a> pm = GetPhysicManager();
<a class="code" href="classp_factory.html" title="Singleton class to create physic objects.">pFactory</a> pf  = getPFactory();


<a class="code" href="classp_rigid_body.html" title="pRigidBody is the main simulation object in the physics SDK.">pRigidBody</a> bodyA = pm.getBody(bodyARef);
<a class="code" href="classp_rigid_body.html" title="pRigidBody is the main simulation object in the physics SDK.">pRigidBody</a> bodyB = pm.getBody(bodyBRef);

<span class="comment">//sanity check :</span>
<span class="keywordflow">if</span>(!bodyA &amp;&amp; !bodyB )
    <span class="keywordflow">return</span>;

<a class="code" href="classp_world.html" title="Class to maintain physical objects.">pWorld</a> w  = null;

<span class="comment">//bodyARef or bodyBRef can be zero. However, we need a valid world object :</span>
<span class="keywordflow">if</span>(bodyA)
{
    w = bodyA.getWorld();
}

<span class="keywordflow">if</span>(bodyB)
{
    w = bodyB.getWorld();
}


<span class="comment">// Get the joint object , identified by a given type:</span>
<a class="code" href="classp_joint.html" title="Abstract base class for the different types of joints.">pJoint</a> joint  = w.getJoint(bodyARef,bodyBRef,jType);


<span class="comment">// we set it breakable :</span>
<span class="keywordflow">if</span>(joint)
    joint.<a class="code" href="classp_joint.html#ae62c1e3223625c6d96d681ac8e10d00b" title="Sets the maximum force magnitude that the joint is able to withstand without breaking...">setBreakForces</a>(2000.0f,2000.0f);

<span class="comment">// we set it unbreakable :</span>
<span class="keywordflow">if</span>(joint)
    joint.<a class="code" href="classp_joint.html#ae62c1e3223625c6d96d681ac8e10d00b" title="Sets the maximum force magnitude that the joint is able to withstand without breaking...">setBreakForces</a>(0.0f,0.0f);
</pre></div><p> </span> <br/>
</p>
<p>Is utilizing <a class="el" href="classp_rigid_body.html" title="pRigidBody is the main simulation object in the physics SDK.">pRigidBody</a> <a class="el" href="classp_world.html" title="Class to maintain physical objects.">pWorld</a> <a class="el" href="class_physic_manager.html" title="PhysicManager is a Virtools manager and acts as singleton object.">PhysicManager</a> <a class="el" href="classp_joint.html#ae62c1e3223625c6d96d681ac8e10d00b" title="Sets the maximum force magnitude that the joint is able to withstand without breaking...">pJoint::setBreakForces()</a>.<br/>
 </p>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Wed Feb 3 18:57:23 2010 for vtPhysX by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
