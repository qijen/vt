<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>vtPhysX: </title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="online.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="main.html">PhysX for Virtools</a>&nbsp;&raquo&nbsp;<a class="el" href="buildingblocks.html">Building Blocks</a>&nbsp;&raquo&nbsp;<a class="el" href="d6bb.html">D6</a>
  </div>
</div>
<div class="contents">
<p><br/>
 PJD6 is categorized in <a class="el" href="joints.html">Joints</a> <br/>
 <br/>
See <a href="PJD6.cmo">PJD6.cmo</a>.</p>
<h3>Description</h3>
<p>Apply to a <a href="Documentation.chm::/beobjects/1_ck3dentity.html">3DEntity</a><br/>
 Creates or modifies a D6 joint. <br/>
 <br/>
 DOFs removed: 0-6<br/>
 DOFs remaining: 0-6<br/>
 <br/>
 <br/>
</p>
<p>This joint type can be configured to model nearly any joint imaginable. Each degree of freedom - both linear and angular - can be selectively locked or freed, and separate limits can be applied to each. The 6 DOF joint provides motor drive on all axes independently, and also allows soft limits.</p>
<p>The joint axis (localAxis[]) defines the joint's local x-axis. The joint normal (localNormal[]) defines the joint's local y-axis. The local z-axis is computed as a cross product of the first two.</p>
<p>When constraining the angular motion of the joint, rotation around the x-axis is referred to as twist, rotation around the y-axis as swing1, and rotation around the z-axis as swing2.</p>
<div align="center">
<img src="6dofaxis.png" alt="6dofaxis.png"/>
</div>
<h3>Technical Information</h3>
<div align="center">
<img src="PJD6.png" alt="PJD6.png"/>
</div>
<p><span class="in">In: </span>triggers the process <br/>
 <span class="out">Out: </span>is activated when the process is completed. <br/>
 <br/>
 <span class="pin">Body B: </span>The second body. Leave blank to create a joint constraint with the world. <br/>
 <br/>
</p>
<hr/>
<p><span class="pin">Anchor:</span>A point in world space coordinates. See <a class="el" href="classp_joint_d6.html#a61b156b50a26132f76089f45d679b1bf" title="Sets the global anchor.">pJointD6::setGlobalAnchor()</a>. <br/>
 <span class="pin">Anchor Reference: </span>A helper entity to transform a local anchor into the world space. <br/>
</p>
<hr/>
<p><span class="pin">Axis: </span>An in world space. See <a class="el" href="classp_joint_d6.html#aa1b899aa39c702b4b38cfbec2ad23f3e" title="Sets the global axis.">pJointD6::setGlobalAxis()</a>. <br/>
 <span class="pin">Axis Up Reference: </span>A helper entity to transform a local axis into the world space. <br/>
 <br/>
 <hr/>
<p><span class="pin">Collision: </span>Enable Collision. See <a class="el" href="classp_joint_d6.html#ae110e225256364c3ead097a798bf1235" title="Enables collision between the two bodies.">pJointD6::enableCollision()</a>. <br/>
</p>
<hr/>
 <span class="pin">Projection Mode: </span>Joint projection mode. See pJointD6::setProjectionMode() and <a class="el" href="group___joints.html#ga635428fef8d6e4afba288610c9c65bd5">ProjectionMode</a>. <br/>
</p>
<p><span class="pin">Projection Distance: </span>If any joint projection is used, it is also necessary to set projectionDistance to a small value greater than zero. When the joint error is larger than projectionDistance the SDK will change it so that the joint error is equal to projectionDistance. Setting projectionDistance too small will introduce unwanted oscillations into the simulation.See pJointD6::setProjectionDistance(). <br/>
</p>
<p><span class="pin">Projection Angle: </span>Angle must be greater than 0.02f .If its smaller then current algo gets too close to a singularity. See pJointD6::setProjectionAngle(). <br/>
</p>
<p><br/>
 </p>
<h3>Warning</h3>
<p>The body must be dynamic. <br/>
 <br/>
</p>
<h3>VSL : Creation </h3>
<p><br/>
 <span class="NiceCode"> </p>
<div class="fragment"><pre class="fragment"><span class="keywordtype">void</span> main()
{
    <a class="code" href="class_physic_manager.html" title="PhysicManager is a Virtools manager and acts as singleton object.">PhysicManager</a> pm = GetPhysicManager();
    <a class="code" href="classp_factory.html" title="Singleton class to create physic objects.">pFactory</a> pf  = getPFactory();
    
        
    <a class="code" href="classp_rigid_body.html" title="pRigidBody is the main simulation object in the physics SDK.">pRigidBody</a> bodyA = pm.getBody(bodyARef);
    <a class="code" href="classp_rigid_body.html" title="pRigidBody is the main simulation object in the physics SDK.">pRigidBody</a> bodyB = pm.getBody(bodyBRef);

    <span class="comment">//sanity check : </span>
    <span class="keywordflow">if</span>(!bodyA &amp;&amp; !bodyB )
        <span class="keywordflow">return</span>;

    <a class="code" href="classp_world.html" title="Class to maintain physical objects.">pWorld</a> w  = null;
    
    <span class="comment">//bodyARef or bodyBRef can be zero. This creates a revolute constraint with the environment then.</span>
    <span class="comment">//However, we need a valid world object : </span>
    <span class="keywordflow">if</span>(bodyA)
    {
        w = bodyA.getWorld();
    }
    
    <span class="keywordflow">if</span>(bodyB)
    {
        w = bodyB.getWorld();
    }
    

    <span class="comment">//we ask the world whether a joint revolute exists already amongst the both bodies : </span>
    <a class="code" href="classp_joint.html" title="Abstract base class for the different types of joints.">pJoint</a> joint  = w.getJoint(bodyARef,bodyBRef,<a class="code" href="group___joints.html#ggadcea5be96146723d822b7db05024d881a123db491acc937b6eb6c77531bef6552">JT_D6</a>);

    <a class="code" href="classp_joint_d6.html" title="A D6 joint is a general constraint between two actors.">pJointD6</a> d6 = null;
    <span class="keywordflow">if</span>(!joint)
    {
        Vector globalAnchor  = anchor;
        <span class="keywordflow">if</span>(anchorReference)
            anchorReference.Transform(globalAnchor,anchor);
            
        Vector globalAxis  = axis;
        <span class="keywordflow">if</span> (axisUpReference)
        {
            Vector dir;
            Vector up;
            Vector right;
            axisUpReference.GetOrientation(dir,up,right);
            axisUpReference.TransformVector(globalAxis,up);
            
        }       
        d6 = pf.createD6Joint(bodyARef,bodyBRef,globalAnchor,globalAxis);
        
        <span class="keywordflow">if</span>(d6)
            d6.<a class="code" href="classp_joint_d6.html#ae110e225256364c3ead097a798bf1235" title="Enables collision between the two bodies.">enableCollision</a>(collision);
            
    }
    
}
</pre></div><p> </span> <br/>
 <br/>
</p>
<p>Is utilizing <a class="el" href="classp_rigid_body.html" title="pRigidBody is the main simulation object in the physics SDK.">pRigidBody</a> <a class="el" href="classp_world.html" title="Class to maintain physical objects.">pWorld</a> <a class="el" href="class_physic_manager.html" title="PhysicManager is a Virtools manager and acts as singleton object.">PhysicManager</a> pFactory::createD6Joint().<br/>
 </p>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Wed Feb 3 18:57:23 2010 for vtPhysX by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
